<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="social_security_template">
        <t t-call="web.basic_layout">
            <div style="padding: 20px;">
                <div style="text-align: center; margin-bottom: 30px;">
                    <h1>Social Security Report</h1>
                </div>
                
                <t t-if="docs">
                    <div style="margin-bottom: 30px;">
                        <h3>Employee Information</h3>
                        <table style="width: 100%;">
                            <tr>
                                <td style="width: 50%;"><strong>Name:</strong> <t t-esc="docs.name"/></td>
                                <td style="width: 50%;"><strong>Employee Code:</strong> <t t-esc="docs.employee_code or 'N/A'"/></td>
                            </tr>
                        </table>
                    </div>
                    
                    <div>
                        <h3>Social Security Contributions</h3>
                        
                        <t t-if="docs.social_security_ids">
                            <table style="width: 100%; border: 1px solid #ddd; border-collapse: collapse;">
                                <thead>
                                    <tr style="background-color: #f8f9fa;">
                                        <th style="border: 1px solid #ddd; padding: 10px;">Year</th>
                                        <th style="border: 1px solid #ddd; padding: 10px;">Type</th>
                                        <th style="border: 1px solid #ddd; padding: 10px;">Code</th>
                                        <th style="border: 1px solid #ddd; padding: 10px; text-align: right;">Base Salary</th>
                                        <th style="border: 1px solid #ddd; padding: 10px; text-align: right;">Employee</th>
                                        <th style="border: 1px solid #ddd; padding: 10px; text-align: right;">Company</th>
                                        <th style="border: 1px solid #ddd; padding: 10px; text-align: right;">Total</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <t t-foreach="docs.social_security_ids" t-as="record">
                                        <tr>
                                            <td style="border: 1px solid #ddd; padding: 8px;"><t t-esc="record.year"/></td>
                                            <td style="border: 1px solid #ddd; padding: 8px;"><t t-esc="record.social_security_type"/></td>
                                            <td style="border: 1px solid #ddd; padding: 8px;"><t t-esc="record.social_code"/></td>
                                            <td style="border: 1px solid #ddd; padding: 8px; text-align: right;"><t t-esc="format_decimal(record.ss_base_salary)"/></td>
                                            <td style="border: 1px solid #ddd; padding: 8px; text-align: right;"><t t-esc="format_decimal(record.employee_contribution)"/></td>
                                            <td style="border: 1px solid #ddd; padding: 8px; text-align: right;"><t t-esc="format_decimal(record.company_contribution)"/></td>
                                            <td style="border: 1px solid #ddd; padding: 8px; text-align: right;"><t t-esc="format_decimal(record.total)"/></td>
                                        </tr>
                                    </t>
                                </tbody>
                            </table>
                        </t>
                        <t t-else="">
                            <p style="color: #666; font-style: italic; padding: 20px;">
                                No social security records available for this employee.
                            </p>
                        </t>
                    </div>
                </t>
                <t t-else="">
                    <p style="color: #dc3545; padding: 20px;">
                        Error: No employee data available.
                    </p>
                </t>
                
                <div style="margin-top: 40px; font-size: 12px; color: #666; text-align: center;">
                    <p>Generated on: <t t-esc="current_datetime.strftime('%Y-%m-%d %H:%M:%S')"/></p>
                </div>
            </div>
        </t>
    </template>
</odoo>